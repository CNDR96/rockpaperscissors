<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="rock"> Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <div class="results">

    </div>
</body>

<script>

    function updateResults(message) {
    let resultsDiv = document.querySelector('.results');
    resultsDiv.textContent = message;
    }

    function playRound(playerChoice) {
        const computerChoice = getComputerChoice();
        
        let resultMessage = '';

        if (computerChoice === playerChoice) {
            resultMessage = `It's a draw. Player Score: ${playerScore}, Computer Score: ${computerScore}`;
        } else if (
            (computerChoice === "Rock" && playerChoice === "Paper") ||
            (computerChoice === "Paper" && playerChoice === "Scissors") ||
            (computerChoice === "Scissors" && playerChoice === "Rock")
        ) {
            playerScore++;
            resultMessage = `You win! ${playerChoice} beats ${computerChoice}. Player Score: ${playerScore}, Computer Score: ${computerScore}`;
        } else {
            computerScore++;
            resultMessage = `You lose. ${computerChoice} beats ${playerChoice}. Player Score: ${playerScore}, Computer Score: ${computerScore}`;
        }

        updateResults(resultMessage);

        if (playerScore === 3 || computerScore === 3) {
                endGame();
            }

    }

    function endGame() {
        if (playerScore === 3) {
            updateResults(`You win the best of 5! Player Score: ${playerScore}, Computer Score: ${computerScore}`);
        } else {
            updateResults(`You lose the best of 5. Player Score: ${playerScore}, Computer Score: ${computerScore}`);
        }

        playerScore = 0;
        computerScore = 0;
        
    }


    function getComputerChoice() {
        let computerChoice = Math.floor(Math.random() * 3) + 1;
        
        if (computerChoice === 1) {
            return "Rock"
        } else if (computerChoice === 2) {
            return "Paper"
        } else if (computerChoice === 3) {
            return "Scissors"
        }
    }

    function getPlayerChoice() {
        return playerChoice;
    }
        let playerChoice = '';
        const rock = document.querySelector('#rock');
        const paper = document.querySelector('#paper');
        const scissors = document.querySelector('#scissors');
        
        rock.addEventListener('click', () => {
            playerChoice = 'Rock';
            playRound('Rock');
        });
        paper.addEventListener('click', () => {
            playerChoice = 'Paper';
            playRound('Paper');
        });
        scissors.addEventListener('click', () => {
            playerChoice = 'Scissors';
            playRound('Scissors');
        });


    function game() {
        
        let draws = 0;
        
         playerScore = 0;
         computerScore = 0;

            for (let i = 0; i < 5; ) {
                playRound(playerChoice);
                
                if (resultMessage.includes("It's a draw.")) {
                    draws++;
                } else {
                    i++;
                }

                if (playerScore === 3 || computerScore === 3) {
                break;
                }

            }

    
    if (playerScore === 3 || computerScore === 3) {
        if (playerScore > computerScore) {
        updateResults("You win the best of 5 game!");
        } else if (playerScore < computerScore) {
        updateResults("You lose the best of 5 game.");
        } else {
        updateResults("The game is a draw.");
    }
}

        
    }

    
    game();

</script>

</html>